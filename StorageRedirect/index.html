<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Storage Redirect</title>

    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/mdui/0.4.1/css/mdui.min.css">
    <link href="../css/materialdesignicons.min.css" media="all" rel="stylesheet" type="text/css"/>
    <script src="https://cdnjs.loli.net/ajax/libs/mdui/0.4.1/js/mdui.min.js"></script>
    <!-- development version, includes helpful console warnings -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <style>
        .mdui-tab .mdui-tab-active {
            color: #ff4081;
        }

        .mdui-tab-indicator {
            background-color: #ff4081;
        }

        @media (min-width: 200px) {
            .header-intro-text {
                text-align: center;
            }

            .intro-tab-text {
                padding: 0 0 0 0;
            }
        }

        @media (min-width: 600px) {
            .header-intro-text {
                text-align: center;
            }

            .intro-tab-text {
                padding: 0 32px 0 32px;
            }
        }

        @media (min-width: 1024px) {
            .header-intro-text {
                text-align: start;
            }

            .intro-tab-text {
                padding: 0 32px 0 32px;
            }
        }
    </style>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
<div id="app">
    <!-- Header bar -->
    <div class="mdui-container-fluid mdui-shadow-6 mdui-theme-primary-white mdui-theme-accent-pink">
        <div class="mdui-toolbar">
            <div class="mdui-toolbar-spacer"></div>
            <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-menu="{target: '#languages-menu'}"
               mdui-tooltip="{content: 'Other language', position: 'left'}"><i class="mdui-icon material-icons">translate</i></a>
            <ul class="mdui-menu" id="languages-menu">
                <li class="mdui-menu-item" v-bind:disabled="isLang('en')">
                    <a v-on:click="changeLangTo('en')" v-bind:class="{'mdui-ripple':!isLang('en')}">English</a>
                </li>
                <li class="mdui-menu-item" v-bind:disabled="isLang('zh-CN')">
                    <a v-on:click="changeLangTo('zh-CN')" v-bind:class="{'mdui-ripple':!isLang('zh-CN')}">中文（简体）</a>
                </li>
                <li class="mdui-menu-item" v-bind:disabled="isLang('zh-TW')">
                    <a v-on:click="changeLangTo('zh-TW')" v-bind:class="{'mdui-ripple':!isLang('zh-TW')}">中文（繁體）</a>
                </li>
            </ul>
        </div>
        <div class="mdui-row">
            <div class="mdui-col-offset-lg-1 mdui-col-lg-4 mdui-col-sm-4 mdui-col-xs-12">
                <img id="sr-logo" class="mdui-center" style="margin: 20px 0; max-width: 200px;" alt="Logo" src="./logo.png"/>
            </div>
            <div class="mdui-col-lg-7 mdui-col-sm-8 mdui-col-xs-12" style="padding: 0 10px 0 10px;">
                <div class="mdui-typo">
                    <template v-if="isLang('en')">
                        <h1 class="mdui-typo-title header-intro-text">Storage Redirect</h1>
                        <h5 class="mdui-m-y-1 header-intro-text">Redirect files produced by apps to correct location.
                            Give you a clean external storage.</h5>
                    </template>
                    <template v-if="isLang('zh-CN')">
                        <h1 class="mdui-typo-title header-intro-text">存储重定向</h1>
                        <h5 class="mdui-m-y-1 header-intro-text">将应用们产生的文件重定向到正确的位置，还原纯净的外部储存空间。</h5>
                    </template>
                    <template v-if="isLang('zh-TW')">
                        <h1 class="mdui-typo-title header-intro-text">儲存重新導向</h1>
                        <h5 class="mdui-m-y-1 header-intro-text">將程式們產生的檔案重新導向至正確的位置，還原純淨的外置儲存空間。</h5>
                    </template>
                </div>
                <div class="button-container header-intro-text" style="padding: 20px 0 20px 0;">
                    <div class="mdui-center">
                        <a href="https://play.google.com/store/apps/details?id=moe.shizuku.redirectstorage"
                           class="mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent"><i
                                class="mdi mdi-google-play"></i> Google Play</a>

                        <template v-if="isLang('en')">
                            <button id="version-select" mdui-menu="{target: '#more-downloads-menu'}"
                                    class="mdui-btn mdui-btn-raised mdui-ripple "><i class="mdi mdi-download"></i> Other
                                ways
                            </button>
                            <ul class="mdui-menu" id="more-downloads-menu" style="text-align: start;">
                                <li class="mdui-menu-item">
                                    <a href="javascript:;" class="mdui-ripple">Coolapk market</a>
                                </li>
                                <li class="mdui-menu-item">
                                    <a mdui-dialog="{target: '#github-releases-dialog'}" class="mdui-ripple">GitHub
                                        Releases</a>
                                </li>
                            </ul>
                        </template>
                        <template v-if="isLang('zh-CN')">
                            <button id="version-select" mdui-menu="{target: '#more-downloads-menu'}"
                                    class="mdui-btn mdui-btn-raised mdui-ripple "><i class="mdi mdi-download"></i> 其它渠道
                            </button>
                            <ul class="mdui-menu" id="more-downloads-menu" style="text-align: start;">
                                <li class="mdui-menu-item">
                                    <a href="javascript:;" class="mdui-ripple">酷安市场</a>
                                </li>
                                <li class="mdui-menu-item">
                                    <a mdui-dialog="{target: '#github-releases-dialog'}" class="mdui-ripple">GitHub
                                        Releases</a>
                                </li>
                            </ul>
                        </template>
                        <template v-if="isLang('zh-TW')">
                            <button id="version-select" mdui-menu="{target: '#more-downloads-menu'}"
                                    class="mdui-btn mdui-btn-raised mdui-ripple "><i class="mdi mdi-download"></i> 其它渠道
                            </button>
                            <ul class="mdui-menu" id="more-downloads-menu" style="text-align: start;">
                                <li class="mdui-menu-item">
                                    <a href="javascript:;" class="mdui-ripple">酷安市集</a>
                                </li>
                                <li class="mdui-menu-item">
                                    <a mdui-dialog="{target: '#github-releases-dialog'}" class="mdui-ripple">GitHub
                                        Releases</a>
                                </li>
                            </ul>
                        </template>
                    </div>
                </div>

                <div class="mdui-dialog" id="github-releases-dialog">
                    <div class="mdui-dialog-title" v-if="isLang('en')">Download from GitHub Releases</div>
                    <div class="mdui-dialog-title" v-if="isLang('zh-CN')">从 GitHub Releases 上下载</div>
                    <div class="mdui-dialog-title" v-if="isLang('zh-TW')">从 GitHub Releases 上下载</div>
                    <div class="mdui-dialog-content">
                        <template v-if="isWeixin()">
                            <p>微信用户请点击右上角的菜单选择使用其它浏览器打开再下载。</p>
                        </template>
                        <template v-else>
                            <div class="mdui-typo-body-2-opacity" v-if="isLang('en')">Select your CPU architecture:</div>
                            <div class="mdui-typo-body-2-opacity" v-if="isLang('zh-CN')">选择你的 CPU 架构：</div>
                            <div class="mdui-typo-body-2-opacity" v-if="isLang('zh-TW')">選擇你的 CPU 架構：</div>
                            <select id="arch-select" class="mdui-select" mdui-select="{position: 'bottom'}">
                                <option value="armeabi-v7a">ARMv7a</option>
                                <option value="arm64-v8a">ARM64</option>
                                <option value="x86">X86</option>
                                <option value="x86_64">X86_64</option>
                            </select>
                            <br>
                            <br>
                            <template v-if="isLang('en')">
                                <p>
                                <div class="mdui-typo-body-2">How to select version?</div>
                                </p>
                                <p>由设备 CPU 架构分类通常分为 ARM、ARM64、MIPS、X86、X86_64 等类型，可以通过某些硬件检测应用查看，根据你的手机实际 CPU 和系统选择对应的 ABI
                                    版本安装包。</p>
                                <p>如果实在不知道如何选择，可以选择<a href="">下载完整包</a>。</p>
                            </template>
                            <template v-if="isLang('zh-CN')">
                                <p>
                                <div class="mdui-typo-body-2">如何选择版本？</div>
                                </p>
                                <p>由设备 CPU 架构分类通常分为 ARM、ARM64、MIPS、X86、X86_64 等类型，可以通过某些硬件检测应用查看，根据你的手机实际 CPU 和系统选择对应的 ABI
                                    版本安装包。</p>
                                <p>如果实在不知道如何选择，可以选择<a href="">下载完整包</a>。</p>
                            </template>
                            <template v-if="isLang('zh-TW')">
                                <p>
                                <div class="mdui-typo-body-2">如何選擇版本？</div>
                                </p>
                                <p>由設備 CPU 架構分類通常分為 ARM、ARM64、MIPS、X86、X86_64 等類型，可以透過某些硬體檢查程式檢視，根據你的移動電話實際 CPU 與系統選擇對應的 ABI
                                    版本安裝包。</p>
                                <p>如果實在不知道如何選擇，可以選擇<a href="">下載完整包</a>。</p>
                            </template>
                            <br>
                            <br>
                        </template>
                    </div>
                    <div class="mdui-dialog-actions">
                        <template v-if="isLang('en')">
                            <button class="mdui-btn mdui-ripple" mdui-dialog-cancel>Cancel</button>
                            <button v-on:click="startDownloadGitHubReleases()" v-if="!isWeixin()" class="mdui-btn mdui-ripple"
                                    mdui-dialog-confirm>OK
                            </button>
                        </template>
                        <template v-if="isLang('zh-CN')">
                            <button class="mdui-btn mdui-ripple" mdui-dialog-cancel>取消</button>
                            <button v-on:click="startDownloadGitHubReleases()" v-if="!isWeixin()" class="mdui-btn mdui-ripple"
                                    mdui-dialog-confirm>确定
                            </button>
                        </template>
                        <template v-if="isLang('zh-TW')">
                            <button class="mdui-btn mdui-ripple" mdui-dialog-cancel>取消</button>
                            <button v-on:click="startDownloadGitHubReleases()" v-if="!isWeixin()" class="mdui-btn mdui-ripple"
                                    mdui-dialog-confirm>確認
                            </button>
                        </template>
                    </div>
                </div>
            </div>
        </div>
        <div id="tabs-bar" class="mdui-tab mdui-m-t-4" style="margin-left: 0;" mdui-tab>
            <a v-for="tab in tabs" v-bind:href="tab.href" class="mdui-ripple mdui-ripple-pink">{{ tab.title }}</a>
        </div>
    </div>
    <!-- Pages -->
    <div class="mdui-container-fluid mdui-typo mdui-theme-primary-white mdui-theme-accent-pink">

        <!-- Introduction tab -->
        <div id="tab-intro" class="mdui-p-a-0">
            <div class="mdui-row mdui-color-blue-grey mdui-p-a-4">
                <div class="mdui-col-offset-xl-2 mdui-col-xl-2 mdui-col-offset-lg-2 mdui-col-lg-2 mdui-col-offset-md-1 mdui-col-md-3 mdui-col-sm-4 mdui-col-xs-12 mdui-p-a-1">
                    <img width="200px" class="mdui-center"
                         src="https://lh3.googleusercontent.com/TFOB80mQ2kGQk0-xUItrfHxCzNYqrBvK4_ieeNQRNd3stal2FmnjnCbytmKRGMuzO0s=w1536-h730-rw"/>
                </div>
                <div class="intro-tab-text mdui-col-xl-6 mdui-col-lg-6 mdui-col-md-7 mdui-col-sm-8 mdui-col-xs-12 mdui-p-y-1">
                    <template v-if="isLang('en')">
                        <div class="mdui-typo-display-1">Redirect your Android apps</div>
                        <div class="mdui-typo-body-1 mdui-m-t-2">
                            Whatever if system apps or third-party apps (Unpaid users can only redirect at most 3 apps),
                            calling Java or Native to create files, all of them can be redirected into individual space.
                            Prevent from polluting external root path. You won't be annoyed by messy folders when using
                            kinds of file manager or transferring data over PC. Enjoy a pleasing experience!
                            <br><br>
                            Basic requirement:
                            <ul>
                                <li>Min support Android 6.0</li>
                                <li>Use SuperSU / Magisk SU to access <b>root permission</b></li>
                            </ul>
                        </div>
                        <div class="mdui-typo-caption-opacity mdui-m-t-4">
                            * Few apps will use standard-Android download manager API. Files produced in this way cannot
                            be redirected.
                        </div>
                    </template>
                    <template v-if="isLang('zh-CN')">
                        <div class="mdui-typo-display-1">重定向你的 Android 应用</div>
                        <div class="mdui-typo-body-1 mdui-m-t-2">
                            无论是系统应用还是自行安装的应用（未付费用户最多可以启用三个应用的重定向），Java 或是 Native
                            层创建的文件都可以重定向到单独的空间内，避免污染外部存储根目录。使用各种文件管理器和连接电脑传输数据时不再被杂乱的文件夹烦扰，提供更加赏心悦目的体验。
                            <br><br>
                            基本设备需求：
                            <ul>
                                <li>最低支持 Android 6.0</li>
                                <li>使用 SuperSU 或者 Magisk SU 获取 <b>Root 权限</b></li>
                            </ul>
                        </div>
                        <div class="mdui-typo-caption-opacity mdui-m-t-4">
                            * 个别应用使用 Android 标准 “下载管理器” 接口下载的文件无法重定向
                        </div>
                    </template>
                    <template v-if="isLang('zh-TW')">
                        <div class="mdui-typo-display-1">重新導向你的 Android 程式</div>
                        <div class="mdui-typo-body-1 mdui-m-t-2">
                            無論是系統程式還是自行安裝的程式（未付費使用者最多可以啟用三個程式的重新導向），Java 或是 Native
                            層創建的檔案都可以重新導向至單獨的空間內，避免污染外置儲存根目錄。使用各種檔案管理器和連接 PC 傳送數據時不再被雜亂的檔案夾煩擾，提供更加賞心悅目的體驗。
                            <br><br>
                            基本設備需求：
                            <ul>
                                <li>最低支援 Android 6.0</li>
                                <li>使用 SuperSU 或者 Magisk SU 存取 <b>Root 權限</b></li>
                            </ul>
                        </div>
                        <div class="mdui-typo-caption-opacity mdui-m-t-4">
                            * 少數程式使用 Android 標準 “下載管理員” 介面下載的檔案無法重新導向
                        </div>
                    </template>
                </div>
            </div>

            <div class="mdui-row mdui-color-white mdui-p-a-4">
                <div class="intro-tab-text mdui-col-offset-xl-2 mdui-col-xl-6 mdui-col-offset-lg-2 mdui-col-lg-6 mdui-col-offset-md-1 mdui-col-md-7 mdui-col-sm-8 mdui-col-xs-12 mdui-p-y-1">
                    <template v-if="isLang('en')">
                        <div class="mdui-typo-display-1">Move user-saved documents to correct location</div>
                        <div class="mdui-typo-body-1 mdui-m-t-2">
                            After redirecting files to individual space, Storage Redirect will move user-saved documents
                            and media to standard public directories according in accordance with settings. Everyone can
                            contribute app redirecting rules. After commits are approved and added into official
                            repository, all users can get a better configuration and determine which to be enabled by
                            themselves.
                        </div>
                    </template>
                    <template v-if="isLang('zh-CN')">
                        <div class="mdui-typo-display-1">纠正主动保存的文档目录</div>
                        <div class="mdui-typo-body-1 mdui-m-t-2">
                            重定向文件到单独空间后，Storage Redirect
                            会根据设定将用户主动保存的文档与媒体存至规范的公共目录。每个人都可以贡献应用的重定向规则，经审核加入官方规则列表后，所有用户都可以获得较佳的配置方案，再根据自身需求进行选择是否使用。
                        </div>
                    </template>
                    <template v-if="isLang('zh-TW')">
                        <div class="mdui-typo-display-1">糾正主動保存的檔案目錄</div>
                        <div class="mdui-typo-body-1 mdui-m-t-2">
                            重新導向檔案至獨立空間後，Storage Redirect
                            會根據設定將使用者主動保存的檔案與媒體存至規範的公共目錄。每個人都可以貢獻程式的重新導向規則，經審核加入官方規則清單後，所有使用者都可以取得較佳的配置方案，再根據自身需求進行選擇是否使用。
                        </div>
                    </template>
                </div>
                <div class="mdui-col-xl-2 mdui-col-lg-2 mdui-col-md-3 mdui-col-sm-4 mdui-col-xs-12 mdui-p-a-1">
                    <img width="200px" class="mdui-center"
                         src="https://lh3.googleusercontent.com/ZOEskhn2DOCve6_RLksii4QObNfc8W_erNKYBRhvSZTwbb4flr_R0sCnuQrbiHHMnfg=w1536-h730-rw"/>
                </div>
            </div>

            <div class="mdui-row mdui-color-yellow-100 mdui-p-a-4">
                <div class="mdui-col-offset-xl-2 mdui-col-xl-2 mdui-col-offset-lg-2 mdui-col-lg-2 mdui-col-offset-md-1 mdui-col-md-3 mdui-col-sm-4 mdui-col-xs-12 mdui-p-a-1">
                    <img width="200px" class="mdui-center"
                         src="https://lh3.googleusercontent.com/yi_D4bfZEQ-pGFUQbjklYHz8BjYwAzCkUFn_gjiiMKEP40wbXhTUetQSG_N6sx3v-Aot=w1536-h730-rw"/>
                </div>
                <div class="intro-tab-text mdui-col-xl-6 mdui-col-lg-6 mdui-col-md-7 mdui-col-sm-8 mdui-col-xs-12 mdui-p-y-1">
                    <template v-if="isLang('en')">
                        <div class="mdui-typo-display-1">Monitor apps' file records</div>
                        <div class="mdui-typo-body-1 mdui-m-t-2">
                            Paid users can monitor apps' file records when Storage Redirect enhancement module is
                            activated, know how files are manipulated. For example, if apps correctly access public
                            directories and read users' private data.
                        </div>
                        <div class="mdui-typo-caption-opacity mdui-m-t-4">
                            * Currently, Enhancement module supported Magisk only.
                        </div>
                        <br>
                        <button onclick="window.location = 'https://rikka.app/StorageRedirect/docs/zh-CN/?doc=%E5%A2%9E%E5%BC%BA%E6%A8%A1%E5%9D%97'"
                                class="mdui-btn mdui-color-white mdui-btn-raised mdui-ripple">Learn more
                        </button>
                    </template>
                    <template v-if="isLang('zh-CN')">
                        <div class="mdui-typo-display-1">监控应用的文件操作</div>
                        <div class="mdui-typo-body-1 mdui-m-t-2">
                            付费版用户在 Storage Redirect 增强模块启用后可以监控应用的文件操作，得知已安装的应用在运行过程有什么行为，例如有没有正确地存取公共目录、是否读取用户隐私文件。
                        </div>
                        <div class="mdui-typo-caption-opacity mdui-m-t-4">
                            * 增强模块目前仅提供 Magisk 版
                        </div>
                        <br>
                        <button onclick="window.location = 'https://rikka.app/StorageRedirect/docs/zh-CN/?doc=%E5%A2%9E%E5%BC%BA%E6%A8%A1%E5%9D%97'"
                                class="mdui-btn mdui-color-white mdui-btn-raised mdui-ripple">了解更多
                        </button>
                    </template>
                    <template v-if="isLang('zh-TW')">
                        <div class="mdui-typo-display-1">監視程式的檔案操作</div>
                        <div class="mdui-typo-body-1 mdui-m-t-2">
                            付費使用者在 Storage Redirect 增強模組啟用后可以監視程式的檔案操作，得知已安裝的程式在運作過程有什麼行為，例如有沒有正確地存取公共目錄、是否讀取使用者隱私檔案。
                        </div>
                        <div class="mdui-typo-caption-opacity mdui-m-t-4">
                            * 增強模組目前僅提供 Magisk 版
                        </div>
                        <br>
                        <button onclick="window.location = 'https://rikka.app/StorageRedirect/docs/zh-CN/?doc=%E5%A2%9E%E5%BC%BA%E6%A8%A1%E5%9D%97'"
                                class="mdui-btn mdui-color-white mdui-btn-raised mdui-ripple">了解更多
                        </button>
                    </template>
                </div>
            </div>
        </div>


        <!-- Changelog tab -->
        <div id="tab-changelog" class="mdui-p-a-2">
            <div class="mdui-panel" mdui-panel>

                <div v-for="(history, index) in versionHistories"
                     class="mdui-panel-item mdui-col-offset-lg-2 mdui-col-lg-8 mdui-col-offset-sm-1 mdui-col-sm-10 mdui-col-xs-12"
                     v-bind:class="{ 'mdui-panel-item-open' : (index == 0) }">
                    <div class="mdui-panel-item-header">
                        <div class="mdui-panel-item-title">{{ history.title }}</div>
                        <i class="mdui-panel-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
                    </div>
                    <div class="mdui-panel-item-body">
                        <ul>
                            <li v-for="item in history.contents">{{ item }}</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>


        <!-- Links tab -->
        <div id="tab-links" class="mdui-p-a-2">

            <div v-for="(link, index) in relativeLinks"
                 class="mdui-card mdui-col-offset-lg-3 mdui-col-lg-6 mdui-col-offset-sm-1 mdui-col-sm-10 mdui-col-xs-12 mdui-ripple mdui-hoverable"
                 v-bind:class="{'mdui-m-t-2' : (index != 0), 'mdui-m-b-4' : (index == (relativeLinks.length - 1)) }"
                 v-on:click="goTo(link.url)">
                <div class="mdui-card-media mdui-col-xs-3">

                </div>
                <div class="mdui-col-xs-9">
                    <div class="mdui-card-primary">
                        <div class="mdui-card-primary-title">{{ link.title }}</div>
                        <div class="mdui-card-primary-subtitle">{{ link.summary }}</div>
                        <br>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<script>
    var translation_data = {
        'en': {
            tabs: [
                {title: 'Introduction', href: '#tab-intro'},
                {title: 'Changelog', href: '#tab-changelog'},
                {title: 'Relative links', href: '#tab-links'}
            ],
            versionHistories: [
                {
                    title: '0.16.4',
                    contents: [
                        'Add file stat for Redirect storage viewer',
                        'Fix the problem that anyone is displayed as purchased',
                        'Auto clean old server files',
                        'Try to "fix" IAP problem "You have already own this item"',
                        'Link files from target to source when enabling link rules'
                    ]
                },
                {
                    title: '0.16.2',
                    contents: [
                        'Enhanced File monitor: load more & filter by path / app',
                        'Force grant storage permission for redirected apps',
                        'Try to fix bug of link function (when create and delete files in a very short time)',
                        'Create ".nomedia" file in Android/data/xxx automatically',
                        'Add shortcut for File monitor (Android 7.1+)',
                        'Fix crash when open help if no browser app installed',
                        'Add more tips',
                        'Fix bugs in 0.16.1 / 0.16.2'
                    ]
                },
                {
                    title: '0.15.8',
                    contents: [
                        'Files downloaded by redirected apps can be managed in Android\'s Files (DocumentUI) app',
                        'Fix log parse (only some special ROM)',
                        'Add "Show disabled apps" filter',
                        'New app list style',
                        'In-app logcat now catches logs from more sources'
                    ]
                },
                {
                    title: '0.15.4',
                    contents: [
                        'Fix reboot when new file created in folders monitored by link function (only on 8.0)',
                        'Fix a bug of file monitoring function of the link function'
                    ]
                }
            ],
            relativeLinks: [
                {
                    title: 'Contribute app rules',
                    summary: 'Commit rules for unsupported apps / Correct outdated rules',
                    url: 'https://github.com/RikkaApps/StorageRedirect-assets/blob/master/CONTRIBUTION.md'
                },
                {
                    title: 'Help documentation',
                    summary: 'Learn how to use Storage Redirect & Frequently-asked questions',
                    url: 'https://rikka.app/StorageRedirect/docs/en'
                },
                {
                    title: 'Join Telegram official group',
                    summary: 'Ask & discuss with others in RikkaApps official discussion group.',
                    url: 'https://t.me/RikkaUserGroup'
                }
            ]
        },
        'zh-CN': {
            tabs: [
                {title: '介绍', href: '#tab-intro'},
                {title: '更新日志', href: '#tab-changelog'},
                {title: '相关链接', href: '#tab-links'}
            ],
            versionHistories: [
                {
                    title: '0.16.4',
                    contents: [
                        'Add file stat for Redirect storage viewer',
                        'Fix the problem that anyone is displayed as purchased',
                        'Auto clean old server files',
                        'Try to "fix" IAP problem "You have already own this item"',
                        'Link files from target to source when enabling link rules'
                    ]
                },
                {
                    title: '0.16.2',
                    contents: [
                        'Enhanced File monitor: load more & filter by path / app',
                        'Force grant storage permission for redirected apps',
                        'Try to fix bug of link function (when create and delete files in a very short time)',
                        'Create ".nomedia" file in Android/data/xxx automatically',
                        'Add shortcut for File monitor (Android 7.1+)',
                        'Fix crash when open help if no browser app installed',
                        'Add more tips',
                        'Fix bugs in 0.16.1 / 0.16.2'
                    ]
                },
                {
                    title: '0.15.8',
                    contents: [
                        'Files downloaded by redirected apps can be managed in Android\'s Files (DocumentUI) app',
                        'Fix log parse (only some special ROM)',
                        'Add "Show disabled apps" filter',
                        'New app list style',
                        'In-app logcat now catches logs from more sources'
                    ]
                },
                {
                    title: '0.15.4',
                    contents: [
                        'Fix reboot when new file created in folders monitored by link function (only on 8.0)',
                        'Fix a bug of file monitoring function of the link function'
                    ]
                }
            ],
            relativeLinks: [
                {
                    title: '应用规则贡献',
                    summary: '为未支持的应用提交规则，纠正错误、过时的规则',
                    url: 'https://github.com/RikkaApps/StorageRedirect-assets/blob/master/CONTRIBUTION.md'
                },
                {
                    title: '使用帮助',
                    summary: '了解如何使用存储重定向以及常见问题的解决方法',
                    url: 'https://rikka.app/StorageRedirect/docs/zh-CN'
                },
                {
                    title: '加入 Telegram 官方群组',
                    summary: '在 RikkaApps 官方交流群组中咨询问题、与其他用户交流使用技巧',
                    url: 'https://t.me/RikkaUserGroup'
                }
            ]
        },
        'zh-TW': {
            tabs: [
                {title: '介紹', href: '#tab-intro'},
                {title: '更新日誌', href: '#tab-changelog'},
                {title: '相關連結', href: '#tab-links'}
            ],
            versionHistories: [
                {
                    title: '0.16.4',
                    contents: [
                        'Add file stat for Redirect storage viewer',
                        'Fix the problem that anyone is displayed as purchased',
                        'Auto clean old server files',
                        'Try to "fix" IAP problem "You have already own this item"',
                        'Link files from target to source when enabling link rules'
                    ]
                },
                {
                    title: '0.16.2',
                    contents: [
                        'Enhanced File monitor: load more & filter by path / app',
                        'Force grant storage permission for redirected apps',
                        'Try to fix bug of link function (when create and delete files in a very short time)',
                        'Create ".nomedia" file in Android/data/xxx automatically',
                        'Add shortcut for File monitor (Android 7.1+)',
                        'Fix crash when open help if no browser app installed',
                        'Add more tips',
                        'Fix bugs in 0.16.1 / 0.16.2'
                    ]
                },
                {
                    title: '0.15.8',
                    contents: [
                        'Files downloaded by redirected apps can be managed in Android\'s Files (DocumentUI) app',
                        'Fix log parse (only some special ROM)',
                        'Add "Show disabled apps" filter',
                        'New app list style',
                        'In-app logcat now catches logs from more sources'
                    ]
                },
                {
                    title: '0.15.4',
                    contents: [
                        'Fix reboot when new file created in folders monitored by link function (only on 8.0)',
                        'Fix a bug of file monitoring function of the link function'
                    ]
                }
            ],
            relativeLinks: [
                {
                    title: '應用程式規則貢獻',
                    summary: '為未支援的程式提交規則，糾正錯誤、過時的規則',
                    url: 'https://github.com/RikkaApps/StorageRedirect-assets/blob/master/CONTRIBUTION.md'
                },
                {
                    title: '使用幫助',
                    summary: '了解如何使用儲存重新導向及常見問題的解決方法',
                    url: 'https://rikka.app/StorageRedirect/docs/zh-TW'
                },
                {
                    title: '加入 Telegram 官方群組',
                    summary: '在 RikkaApps 官方交流群組中咨詢問題、與其他使用者交流使用技巧',
                    url: 'https://t.me/RikkaUserGroup'
                }
            ]
        }
    };

    var data = {
        goTo: function (url) {
            window.location = url;
        },
        changeLangTo: function (newLang) {
            data.tabs = translation_data[newLang].tabs;
            data.versionHistories = translation_data[newLang].versionHistories;
            data.relativeLinks = translation_data[newLang].relativeLinks;
            data.currentLang = newLang;

            setTimeout(function () {
                var tabInst = new mdui.Tab('.mdui-tab');
                tabInst.handleUpdate();
            }, 100);
        },
        isLang: function (lang) {
            return data.currentLang.indexOf(lang) === 0;
        },
        isWeixin: function () {
            return (typeof WeixinJSBridge !== "undefined");
        },
        startDownloadGitHubReleases: function () {
            if (data.isWeixin()) {
                mdui.snackbar('请点击微信右上角菜单选择其它浏览器打开方可下载。');
                return;
            }
            var selectedValue = document.getElementById('arch-select').value;
            var message;
            if (data.isLang('zh-CN')) {
                message = "你选择了 " + selectedValue + " 架构的安装包，现在开始下载。";
            } else if (data.isLang('zh-TW')) {
                message = "你選擇了 " + selectedValue + " 架構的安裝包，現在開始下載。";
            } else {
                message = "You choose " + selectedValue + " arch's install package. Now start downloading...";
            }
            mdui.snackbar(message, {position: 'left-bottom'});
            mdui.JQ.ajax({
                method: 'GET',
                url: 'https://api.github.com/repos/RikkaApps/StorageRedirect-assets/releases/latest',
                success: function (data) {
                    data = JSON.parse(data);
                    var assets = data.assets;
                    for (var i = 0; i < assets.length; i++) {
                        if (assets[i].name.indexOf(selectedValue + '.apk') !== -1) {
                            window.location = assets[i].browser_download_url;
                            break;
                        }
                    }
                }
            });
        },

        currentLang: navigator.language,
        tabs: [],
        versionHistories: [],
        relativeLinks: []
    };

    var app = new Vue({
        el: '#app',
        data: data
    });
    if (!data.currentLang) {
        data.currentLang = navigator.browserLanguage;
    }
    if (data.currentLang.indexOf('en') === 0) {
        data.currentLang = 'en';
    }
    if (!data.isLang('en') && !data.isLang('zh-CN') && !data.isLang('zh-TW')) {
        data.currentLang = 'en';
    }
    data.changeLangTo(data.currentLang);

    function getElementLeft(element) {
        var actualLeft = element.offsetLeft;
        var current = element.offsetParent;
        while (current !== null) {
            actualLeft += (current.offsetLeft + current.clientLeft);
            current = current.offsetParent;
        }
        return actualLeft;
    }

    function updateTabsMargin() {
        if (mdui.JQ(window).width() > 600) {
            var logoLeft = getElementLeft(document.getElementById('sr-logo'));
            document.getElementById('tabs-bar').style.marginLeft = Math.max(0, logoLeft - 10) + 'px';
        } else {
            document.getElementById('tabs-bar').style.marginLeft = '0';
        }
    }

    window.onresize = function () {
        updateTabsMargin();
    };

    setTimeout(updateTabsMargin, 200);
</script>
</body>
</html>
